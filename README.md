# nodejs
> 前后端分离 nodejs选型实验

### 方案一 nodejs中心化
> 线上搭建nodejs服务器，独立部署。nginx 〉 node 〉 app server，流程经过nginx直接进入node，然后由node做返回或通过http请求应用服务。

- 优势：服务独立，独立硬件资源，一对多应用。
- 劣势：所有流量需要先经过node服务，如果Node服务器一旦出现问题，那么后续所有流程全部瘫痪。

### 方案二 nodejs应用化
> 将nodejs服务搭建在项目应用层，各应用中单独维护node服务.

- 优势：各应用独立维护node服务，互不干扰。
- 劣势：node服务需要部署在原应用机器上抢占原应用硬件资源。一对一应用，需要维护多个node服务

### 方案三 nodejs本地化
> 生产环境无需搭建node服务，node环境只在本地开发调试应用。最终将文件打包成一个js文件，vm部署在应用环境中（避免讲求跨域）引用打包好的js文件页面元素都由js在浏览器端渲染。

- 优势：服务器架构几乎无需改动，前端将页面改造成spa单面应用即可。
- 劣势：js文件较大需要考虑页面加载速度，页面加载期间会有白屏。

